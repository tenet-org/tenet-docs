"use strict";(self.webpackChunktenet_docs=self.webpackChunktenet_docs||[]).push([[1834],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,g=u["".concat(s,".").concat(m)]||u[m]||p[m]||o;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9955:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:3},i="Aggregator Protocol",l={unversionedId:"aggregator",id:"aggregator",title:"Aggregator Protocol",description:"The Tenet blockchain uniquely accommodates multiple Liquid Staking Derivatives (LSDs), leading to various Tenet-specific Liquid Staking Derivatives (tLSDs) backed by identical LSDs. This ecosystem, although powerful, can be complex for DeFi integrations. The Tenet Aggregator Protocol elegantly solves this problem by offering a unified, dual-yield-bearing tLSD token, simplifying the experience for end-users and enabling seamless integration into existing DeFi projects.",source:"@site/docs/tLSD/aggregator.md",sourceDirName:".",slug:"/aggregator",permalink:"/tenet-docs/tLSD/aggregator",draft:!1,editUrl:"https://github.com/tenet-org/tenet-docs/edit/master/docs/tLSD/aggregator.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"TLSDFactory Interface",permalink:"/tenet-docs/tLSD/interface"}},s={},c=[{value:"Main Aggregator Contract",id:"main-aggregator-contract",level:2},{value:"Interface",id:"interface",level:3},{value:"Aggregator Staking Contract",id:"aggregator-staking-contract",level:2},{value:"Interface",id:"interface-1",level:3},{value:"Wrapper Contract",id:"wrapper-contract",level:2},{value:"Interface",id:"interface-2",level:3},{value:"How to Obtain wTLSD: A Step-by-Step Guide",id:"how-to-obtain-wtlsd-a-step-by-step-guide",level:2}],d={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"aggregator-protocol"},"Aggregator Protocol"),(0,r.kt)("p",null,"The Tenet blockchain uniquely accommodates multiple Liquid Staking Derivatives (LSDs), leading to various Tenet-specific Liquid Staking Derivatives (tLSDs) backed by identical LSDs. This ecosystem, although powerful, can be complex for DeFi integrations. The Tenet Aggregator Protocol elegantly solves this problem by offering a unified, dual-yield-bearing tLSD token, simplifying the experience for end-users and enabling seamless integration into existing DeFi projects."),(0,r.kt)("h1",{id:"core-components-of-the-tenet-aggregator-protocol"},"Core Components of the Tenet Aggregator Protocol"),(0,r.kt)("h2",{id:"main-aggregator-contract"},"Main Aggregator Contract"),(0,r.kt)("p",null,"The aggregator contract accepts LSD tokens and delegates them across supported validators on the network. It issues a tLSD token, which is a tokenized representation of an LSD asset staked to various validators on the Tenet blockchain. Tenet staking yield accumulates in the contract, is sent to the staking contract, and distributed to all staked tLSD holders."),(0,r.kt)("p",null,"On the withdrawal side, the aggregator contract accepts tLSD tokens and burns them, undelegating the underlying LSD and sending it back to the user after the unbonding period is finished."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"LSD Acceptance"),": The contract accepts LSD tokens from users and delegates them to a pool of 64 eligible validators."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Validator Delegation"),": It autonomously allocates the received LSDs across these validators."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"tLSD Issuance"),": Users are issued tLSD tokens, representing their stakes distributed across all participating validators."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Yield Distribution"),": Yield from each validator is aggregated and uniformly distributed to all staked tLSD holders via the associated staking contract.")),(0,r.kt)("h3",{id:"interface"},"Interface"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deposit"),": Mints tLSD to the receiver by depositing an exact amount of LSD tokens."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"withdraw"),": Burns tLSD from the owner and sends an exact amount of underlying LSD to the receiver."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"mint"),": Mints an exact amount of tLSD to the receiver."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"redeem"),": Burns an exact amount of tLSD from the owner and sends LSD tokens to the receiver."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"claimVeTenetRewards"),": Claims validator rewards and redirects them to the staking contract."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"totalAssets"),": Returns the total amount of LSD tokens managed by the aggregator contract."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"convertToShares"),": Returns the amount of tLSD that the contract would exchange for the amount of LSD provided"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"convertToAssets"),": Returns the amount of LSD that the contract would exchange for the amount of tLSD provided"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MaxDeposit"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"MaxWithdraw"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"MaxMint"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"MaxRedeem"),": Returns the maximum permissible transaction amounts.")),(0,r.kt)("h2",{id:"aggregator-staking-contract"},"Aggregator Staking Contract"),(0,r.kt)("p",null,"The AggregatedTLSDStaking smart contract allows users to stake their tLSD tokens in order to earn their delegation rewards over time. The contract accumulates yield from the main aggregator contract and distributes it to staked users in the form of wTENET."),(0,r.kt)("h3",{id:"interface-1"},"Interface"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"stake"),": Stake a specific amount of tLSD tokens."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"withdraw"),": Withdraw a specific amount of tLSD tokens."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"claim"),": Claim the rewards earned."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"exit"),": Shortcut to withdraw all staked tLSD tokens and claim all rewards."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"earned"),": Returns the amount of rewards earned by a specific account."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"stakeOf"),": Returns the amount of tLSD tokens staked by a specific account."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"totalSupply"),": Returns the total amount of tLSD tokens staked in the contract.")),(0,r.kt)("h2",{id:"wrapper-contract"},"Wrapper Contract"),(0,r.kt)("p",null,"The wrapper contract allows users to deposit tLSD tokens and receive a yield-bearing token in return. The wrapper automates the staking of tLSD tokens and the claiming of generated yield, which it then re-invests to compound yields."),(0,r.kt)("p",null,"// TODO: We included the possibility to implement performance-, deposit-, and withdrawal fees in the wrapper contract. We need to decide if we want to implement these fees and if yes, include it in the docs. ","[NOTE - YES - WE SHOULD HAVE A PERFORMANCE FEE OF 10% INCLUDED IN THE DOCUMENTATION]"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Deposit tLSD"),": Once you deposit tLSD, the wrapper contract stakes them for you."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Receive wTLSD"),": In return, you receive wTLSD tokens that are dual-yield-bearing and ready for DeFi.")),(0,r.kt)("h3",{id:"interface-2"},"Interface"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deposit"),": Mints wTLSD to the receiver by depositing an exact amount of tLSD tokens."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"withdraw"),": Burns wTLSD from the owner and sends an exact amount of underlying tLSD to the receiver."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"mint"),": Mints an exact amount of wTLSD to the receiver."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"redeem"),": Burns an exact amount of wTLSD from the owner and sends tLSD tokens to the receiver."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"remainingProfitUnlockTime"),": Returns the remaining time until all profits from the last compound are unlocked."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"lockedProfit"),": Returns the amount of locked profit from the last compound."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"totalAssets"),": Returns the total amount of tLSD tokens managed by the aggregator contract."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"convertToShares"),": Returns the amount of wTLSD that the contract would exchange for the amount of tLSD provided"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"convertToAssets"),": Returns the amount of tLSD that the contract would exchange for the amount of wTLSD provided")),(0,r.kt)("h2",{id:"how-to-obtain-wtlsd-a-step-by-step-guide"},"How to Obtain wTLSD: A Step-by-Step Guide"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Transfer your LSD tokens to a compatible wallet (e.g., MetaMask, Eva)."),(0,r.kt)("li",{parentName:"ol"},"Ensure you have sufficient TENET tokens for transaction fees."),(0,r.kt)("li",{parentName:"ol"},"Visit <",(0,r.kt)("em",{parentName:"li"},"insert link"),"> and connect your wallet."),(0,r.kt)("li",{parentName:"ol"},"Bridge your LSD tokens to the Tenet blockchain. The bridge to process this is accessible at <",(0,r.kt)("em",{parentName:"li"},"insert link"),">."),(0,r.kt)("li",{parentName:"ol"},"Before proceeding, ensure that you are connected to the Tenet blockchain network."),(0,r.kt)("li",{parentName:"ol"},"You can now delegate and wrap your LSD tokens to receive wTLSD tokens. To do this, navigate to <",(0,r.kt)("em",{parentName:"li"},"insert link"),"> and use the 'delegate and wrap' function and confirm your transaction."),(0,r.kt)("li",{parentName:"ol"},"All of your LSD tokens are now staked on Tenet and earning rewards on top op the yield from the original chain. You can now use your wTLSD tokens in DeFi applications.")))}p.isMDXComponent=!0}}]);