"use strict";(self.webpackChunktenet_docs=self.webpackChunktenet_docs||[]).push([[9590],{3905:(e,t,o)=>{o.d(t,{Zo:()=>s,kt:()=>h});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var p=n.createContext({}),m=function(e){var t=n.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},s=function(e){var t=m(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=m(o),u=r,h=c["".concat(p,".").concat(u)]||c[u]||d[u]||i;return o?n.createElement(h,a(a({ref:t},s),{},{components:o})):n.createElement(h,a({ref:t},s))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:r,a[1]=l;for(var m=2;m<i;m++)a[m]=o[m];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},6756:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>m});var n=o(7462),r=(o(7294),o(3905));const i={sidebar_position:5},a="Mempool",l={unversionedId:"validators/mempool",id:"validators/mempool",title:"Mempool",description:"Learn about the available mempool options in Tendermint.",source:"@site/docs/node/validators/mempool.md",sourceDirName:"validators",slug:"/validators/mempool",permalink:"/node/validators/mempool",draft:!1,editUrl:"https://github.com/tenet-org/tenet-docs/edit/master/docs/node/validators/mempool.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"docsSidebar",previous:{title:"Disk Usage Optimization",permalink:"/node/validators/disk-usage"},next:{title:"Validator FAQ",permalink:"/node/validators/faq"}},p={},m=[{value:"FIFO Mempool",id:"fifo-mempool",level:2},{value:"Prioritized Mempool",id:"prioritized-mempool",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Resources",id:"resources",level:2}],s={toc:m},c="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(c,(0,n.Z)({},s,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"mempool"},"Mempool"),(0,r.kt)("p",null,"Learn about the available mempool options in Tendermint."),(0,r.kt)("h2",{id:"fifo-mempool"},"FIFO Mempool"),(0,r.kt)("p",null,"The mempool holds uncommitted transactions, which are not yet included in a block.\nThe default mempool implementation for Tendermint blockchains follows a first-in-first-out (FIFO) principle,\nwhich means the ordering of transactions depends solely on the order in which they arrive at the node.\nThe first transaction to be received will be the first transaction to be processed.\nThis is true for gossiping the received transactions to the rest of the peers as well as including them in a block."),(0,r.kt)("h2",{id:"prioritized-mempool"},"Prioritized Mempool"),(0,r.kt)("p",null,"Starting with ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tendermint/tendermint/blob/v0.35.0/CHANGELOG.md"},"Tendermint v0.35"),"\n(has also been backported to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tendermint/tendermint/blob/17c94bb0dcb354c57f49cdcd1e62f4742752c803/UPGRADING.md?plain=1#L54"},"v0.34.20"),")\nit is possible to use a prioritized mempool implementation.\nThis allows validators to choose transactions based on the associated fees or other incentive mechanisms.\nIt is achieved by passing a ",(0,r.kt)("inlineCode",{parentName:"p"},"priority")," field with each ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tendermint/tendermint/blob/17c94bb0dcb354c57f49cdcd1e62f4742752c803/proto/tendermint/abci/types.proto#L234"},(0,r.kt)("inlineCode",{parentName:"a"},"CheckTx")," response"),",\nwhich is run on any transaction trying to enter the mempool."),(0,r.kt)("p",null,"Tenet supports ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-1559#simple-summary"},"EIP-1559")," EVM transactions through its\n",(0,r.kt)("a",{parentName:"p",href:"../../protocol/modules/feemarket"},"feemarket module"),".\nThis transaction type uses a base fee and a selectable priority tip that add up to the total transaction fees.\nThe prioritized mempool presents an option to automatically make use of this mechanism regarding block generation."),(0,r.kt)("p",null,"When using the prioritized mempool, transactions for the next produced block are chosen\nby order of their priority (i.e. their fees) from highest to lowest.\nShould the mempool be full, the prioritized implementation allows\nto remove the transactions with the lowest priority until enough disk space is available for\nan incoming, higher-priority transaction (see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tendermint/tendermint/blob/17c94bb0dcb354c57f49cdcd1e62f4742752c803/mempool/v1/mempool.go#L505C2-L576"},"v1/mempool.go")," implementation for more details)."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Even though the transaction processing can be ordered by priority, the gossiping of transactions will always be according to FIFO.")),(0,r.kt)("h2",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"To use the a prioritized mempool, adjust ",(0,r.kt)("inlineCode",{parentName:"p"},'version = "v1"')," in the node configuration at ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.tenetd/config/config.toml"),".\nThe default value ",(0,r.kt)("inlineCode",{parentName:"p"},'"v0"')," indicates the traditional FIFO mempool."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Remember to ",(0,r.kt)("strong",{parentName:"p"},"restart")," the node for the changes to take effect.")),(0,r.kt)("p",null,"See the relevant excerpt from ",(0,r.kt)("inlineCode",{parentName:"p"},"config.toml")," here:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-toml"},'#######################################################\n###          Mempool Configuration Option          ###\n#######################################################\n[mempool]\n\n# Mempool version to use:\n#   1) "v0" - (default) FIFO mempool.\n#   2) "v1" - prioritized mempool.\nversion = "v1"\n')),(0,r.kt)("h2",{id:"resources"},"Resources"),(0,r.kt)("p",null,"More detailed information can be found here:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/tendermint/tendermint/blob/main/docs/architecture/adr-067-mempool-refactor.md"},"Tendermint ADR-067 - Mempool Refactor"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://medium.com/tendermint/tendermint-v0-35-introduces-prioritized-mempool-a-makeover-to-the-peer-to-peer-network-more-61eea6ec572d"},"Blogpost: Tendermint v0.35 Announcement")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://eips.ethereum.org/EIPS/eip-1559"},"EIP-1559: Fee market change for ETH 1.0 chain")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://notes.ethereum.org/@vbuterin/eip-1559-faq"},"EIP-1559 FAQ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://consensys.net/blog/quorum/what-is-eip-1559-how-will-it-change-ethereum/"},"Blogpost: What is EIP-1559? How will it change Ethereum?"))))}d.isMDXComponent=!0}}]);