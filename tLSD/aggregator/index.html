<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-tLSD docs-doc-id-aggregator">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Aggregator Protocol | Tenet Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tenet-org.github.io/tenet-docs/tLSD/aggregator"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-tLSD-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-tLSD-current"><meta data-rh="true" property="og:title" content="Aggregator Protocol | Tenet Docs"><meta data-rh="true" name="description" content="The Tenet blockchain uniquely accommodates multiple Liquid Staking Derivatives (LSDs), leading to various Tenet-specific Liquid Staking Derivatives (tLSDs) backed by identical LSDs. This ecosystem, although powerful, can be complex for DeFi integrations. The Tenet Aggregator Protocol elegantly solves this problem by offering a unified, dual-yield-bearing tLSD token, simplifying the experience for end-users and enabling seamless integration into existing DeFi projects."><meta data-rh="true" property="og:description" content="The Tenet blockchain uniquely accommodates multiple Liquid Staking Derivatives (LSDs), leading to various Tenet-specific Liquid Staking Derivatives (tLSDs) backed by identical LSDs. This ecosystem, although powerful, can be complex for DeFi integrations. The Tenet Aggregator Protocol elegantly solves this problem by offering a unified, dual-yield-bearing tLSD token, simplifying the experience for end-users and enabling seamless integration into existing DeFi projects."><link data-rh="true" rel="icon" href="/tenet-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tenet-org.github.io/tenet-docs/tLSD/aggregator"><link data-rh="true" rel="alternate" href="https://tenet-org.github.io/tenet-docs/tLSD/aggregator" hreflang="en"><link data-rh="true" rel="alternate" href="https://tenet-org.github.io/tenet-docs/tLSD/aggregator" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/tenet-docs/assets/css/styles.005dbeab.css">
<link rel="preload" href="/tenet-docs/assets/js/runtime~main.9ec01db7.js" as="script">
<link rel="preload" href="/tenet-docs/assets/js/main.c8dc1cf9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tenet-docs/"><div class="navbar__logo"><img src="/tenet-docs/img/tenet.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/tenet-docs/img/tenet.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Tenet Documentation</b></a><a class="navbar__item navbar__link" href="/tenet-docs/node">Node</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tenet-docs/tLSD">tLSD</a><a class="navbar__item navbar__link" href="/tenet-docs/diversified-pos">Diversified POS</a><a class="navbar__item navbar__link" href="/tenet-docs/tenet-stablecoin-protocol">Stablecoin</a><a class="navbar__item navbar__link" href="/tenet-docs/tokenomics">Tokenomics</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tenet-org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tenet-docs/tLSD/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tenet-docs/tLSD/interface">TLSDFactory Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tenet-docs/tLSD/aggregator">Aggregator Protocol</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tenet-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Aggregator Protocol</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Aggregator Protocol</h1><p>The Tenet blockchain uniquely accommodates multiple Liquid Staking Derivatives (LSDs), leading to various Tenet-specific Liquid Staking Derivatives (tLSDs) backed by identical LSDs. This ecosystem, although powerful, can be complex for DeFi integrations. The Tenet Aggregator Protocol elegantly solves this problem by offering a unified, dual-yield-bearing tLSD token, simplifying the experience for end-users and enabling seamless integration into existing DeFi projects.</p><h1>Core Components of the Tenet Aggregator Protocol</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="main-aggregator-contract">Main Aggregator Contract<a href="#main-aggregator-contract" class="hash-link" aria-label="Direct link to Main Aggregator Contract" title="Direct link to Main Aggregator Contract">​</a></h2><p>The aggregator contract accepts LSD tokens and delegates them across supported validators on the network. It issues a tLSD token, which is a tokenized representation of an LSD asset staked to various validators on the Tenet blockchain. Tenet staking yield accumulates in the contract, is sent to the staking contract, and distributed to all staked tLSD holders.</p><p>On the withdrawal side, the aggregator contract accepts tLSD tokens and burns them, undelegating the underlying LSD and sending it back to the user after the unbonding period is finished.</p><ol><li><strong>LSD Acceptance</strong>: The contract accepts LSD tokens from users and delegates them to a pool of 64 eligible validators.</li><li><strong>Validator Delegation</strong>: It autonomously allocates the received LSDs across these validators.</li><li><strong>tLSD Issuance</strong>: Users are issued tLSD tokens, representing their stakes distributed across all participating validators.</li><li><strong>Yield Distribution</strong>: Yield from each validator is aggregated and uniformly distributed to all staked tLSD holders via the associated staking contract.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface">Interface<a href="#interface" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h3><ul><li><code>deposit</code>: Mints tLSD to the receiver by depositing an exact amount of LSD tokens.</li><li><code>withdraw</code>: Burns tLSD from the owner and sends an exact amount of underlying LSD to the receiver.</li><li><code>mint</code>: Mints an exact amount of tLSD to the receiver.</li><li><code>redeem</code>: Burns an exact amount of tLSD from the owner and sends LSD tokens to the receiver.</li><li><code>claimVeTenetRewards</code>: Claims validator rewards and redirects them to the staking contract.</li><li><code>totalAssets</code>: Returns the total amount of LSD tokens managed by the aggregator contract.</li><li><code>convertToShares</code>: Returns the amount of tLSD that the contract would exchange for the amount of LSD provided</li><li><code>convertToAssets</code>: Returns the amount of LSD that the contract would exchange for the amount of tLSD provided</li><li><code>MaxDeposit</code>, <code>MaxWithdraw</code>, <code>MaxMint</code>, <code>MaxRedeem</code>: Returns the maximum permissible transaction amounts.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aggregator-staking-contract">Aggregator Staking Contract<a href="#aggregator-staking-contract" class="hash-link" aria-label="Direct link to Aggregator Staking Contract" title="Direct link to Aggregator Staking Contract">​</a></h2><p>The AggregatedTLSDStaking smart contract allows users to stake their tLSD tokens in order to earn their delegation rewards over time. The contract accumulates yield from the main aggregator contract and distributes it to staked users in the form of wTENET.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface-1">Interface<a href="#interface-1" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h3><ul><li><code>stake</code>: Stake a specific amount of tLSD tokens.</li><li><code>withdraw</code>: Withdraw a specific amount of tLSD tokens.</li><li><code>claim</code>: Claim the rewards earned.</li><li><code>exit</code>: Shortcut to withdraw all staked tLSD tokens and claim all rewards.</li><li><code>earned</code>: Returns the amount of rewards earned by a specific account.</li><li><code>stakeOf</code>: Returns the amount of tLSD tokens staked by a specific account.</li><li><code>totalSupply</code>: Returns the total amount of tLSD tokens staked in the contract.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wrapper-contract">Wrapper Contract<a href="#wrapper-contract" class="hash-link" aria-label="Direct link to Wrapper Contract" title="Direct link to Wrapper Contract">​</a></h2><p>The wrapper contract allows users to deposit tLSD tokens and receive a yield-bearing token in return. The wrapper automates the staking of tLSD tokens and the claiming of generated yield, which it then re-invests to compound yields.</p><p>// TODO: We included the possibility to implement performance-, deposit-, and withdrawal fees in the wrapper contract. We need to decide if we want to implement these fees and if yes, include it in the docs. <!-- -->[NOTE - YES - WE SHOULD HAVE A PERFORMANCE FEE OF 10% INCLUDED IN THE DOCUMENTATION]</p><ol><li><strong>Deposit tLSD</strong>: Once you deposit tLSD, the wrapper contract stakes them for you.</li><li><strong>Receive wTLSD</strong>: In return, you receive wTLSD tokens that are dual-yield-bearing and ready for DeFi.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface-2">Interface<a href="#interface-2" class="hash-link" aria-label="Direct link to Interface" title="Direct link to Interface">​</a></h3><ul><li><code>deposit</code>: Mints wTLSD to the receiver by depositing an exact amount of tLSD tokens.</li><li><code>withdraw</code>: Burns wTLSD from the owner and sends an exact amount of underlying tLSD to the receiver.</li><li><code>mint</code>: Mints an exact amount of wTLSD to the receiver.</li><li><code>redeem</code>: Burns an exact amount of wTLSD from the owner and sends tLSD tokens to the receiver.</li><li><code>remainingProfitUnlockTime</code>: Returns the remaining time until all profits from the last compound are unlocked.</li><li><code>lockedProfit</code>: Returns the amount of locked profit from the last compound.</li><li><code>totalAssets</code>: Returns the total amount of tLSD tokens managed by the aggregator contract.</li><li><code>convertToShares</code>: Returns the amount of wTLSD that the contract would exchange for the amount of tLSD provided</li><li><code>convertToAssets</code>: Returns the amount of tLSD that the contract would exchange for the amount of wTLSD provided</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-obtain-wtlsd-a-step-by-step-guide">How to Obtain wTLSD: A Step-by-Step Guide<a href="#how-to-obtain-wtlsd-a-step-by-step-guide" class="hash-link" aria-label="Direct link to How to Obtain wTLSD: A Step-by-Step Guide" title="Direct link to How to Obtain wTLSD: A Step-by-Step Guide">​</a></h2><ol><li>Transfer your LSD tokens to a compatible wallet (e.g., MetaMask, Eva).</li><li>Ensure you have sufficient TENET tokens for transaction fees.</li><li>Visit &lt;<em>insert link</em>&gt; and connect your wallet.</li><li>Bridge your LSD tokens to the Tenet blockchain. The bridge to process this is accessible at &lt;<em>insert link</em>&gt;.</li><li>Before proceeding, ensure that you are connected to the Tenet blockchain network.</li><li>You can now delegate and wrap your LSD tokens to receive wTLSD tokens. To do this, navigate to &lt;<em>insert link</em>&gt; and use the &#x27;delegate and wrap&#x27; function and confirm your transaction.</li><li>All of your LSD tokens are now staked on Tenet and earning rewards on top op the yield from the original chain. You can now use your wTLSD tokens in DeFi applications.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tenet-org/tenet-docs/edit/master/docs/tLSD/aggregator.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tenet-docs/tLSD/interface"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">TLSDFactory Interface</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#main-aggregator-contract" class="table-of-contents__link toc-highlight">Main Aggregator Contract</a><ul><li><a href="#interface" class="table-of-contents__link toc-highlight">Interface</a></li></ul></li><li><a href="#aggregator-staking-contract" class="table-of-contents__link toc-highlight">Aggregator Staking Contract</a><ul><li><a href="#interface-1" class="table-of-contents__link toc-highlight">Interface</a></li></ul></li><li><a href="#wrapper-contract" class="table-of-contents__link toc-highlight">Wrapper Contract</a><ul><li><a href="#interface-2" class="table-of-contents__link toc-highlight">Interface</a></li></ul></li><li><a href="#how-to-obtain-wtlsd-a-step-by-step-guide" class="table-of-contents__link toc-highlight">How to Obtain wTLSD: A Step-by-Step Guide</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023. Built with Docusaurus.</div></div></div></footer></div>
<script src="/tenet-docs/assets/js/runtime~main.9ec01db7.js"></script>
<script src="/tenet-docs/assets/js/main.c8dc1cf9.js"></script>
</body>
</html>